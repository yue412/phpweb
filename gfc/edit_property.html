<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>
        GFC标准
    </title>
    <style type="text/css">
    </style>
    <link rel="stylesheet" type="text/css" href="gfc.css" />
    <script type="text/javascript" src="common.js">
    </script>
    <script type="text/javascript">
        function init_item(name)
        {
            var val = GetQueryString(name);
            if(val == null)
                return;
            var e = document.getElementById(name);
            if(e == null)
                return;
            if(e.type == "checkbox")
                e.checked = parseInt(val);
            else {
                if(val == "null")
                    val = "";
                e.value = val;
            }
        }

        function init_unit_selector()
        {
            do_ajax("get_unit.php", function(text){
                var e = document.getElementById("unit_id");
                var data = JSON.parse(text);
                for (let i = 0; i < data.length; i++) {
                    const unit_obj = data[i];
                    var option = document.createElement('option');
                    option.text = unit_obj.name;
                    option.value = unit_obj.unit_id;
                    e.add(option, null);
                }
            });
        }
        function init()
        {
            init_unit_selector();
            return;
            init_item("code");
            init_item("name");
            init_item("remark");
            init_item("for_plan_design");
            init_item("for_design");
            init_item("for_construction_design");
            init_item("for_detailed_design");
            init_item("for_completed_transfer");
        }
    </script>
</head>
<body>
    <table class="edit-table">
        <tr>
            <td>名称：</td>
            <td><input id="name" type="text"/></td>
        </tr>
        <tr>
            <td>编码：</td>
            <td><input id="code" type="text"/></td>
        </tr>
        <tr>
            <td>数据类型：</td>
            <td><select id="value_type">
                <option value="0">整数</option>
                <option value="1">浮点数</option>
                <option value="2">布尔型</option>
                <option value="3" selected>文本</option>
            </select></td>
        </tr>
        <tr>
            <td>可用值列表：</td>
            <td><input id="pick_list" type="text"/></td>
        </tr>
        <tr>
            <td>单位：</td>
            <td>
                <select id="unit_id">
                    <option value="0" selected>无</option>
                </select>
            </td>
        </tr>
        <tr>
            <td>必填：</td>
            <td><input id="required" type="checkbox"/></td>
        </tr>
        <tr>
            <td>说明：</td>
            <td><input id="remark" type="text"/></td>
        </tr>
        <tr>
            <td>属性分类：</td>
            <td><input id="classification" type="text"/></td>
        </tr>
    </table>
    <script type="text/javascript">
        init();
    </script>
</body>

</html>